#!/bin/bash

# Function to prompt for steghide options and apply
steghide_operation() {
    echo "Please choose a steghide option:"
    echo "1. Embed data into a file"
    echo "2. Extract data from a file"
    echo "3. View embedded data information"
    echo "4. Exit steghide"

    read -p "Enter your choice (1-4): " steg_choice

    case $steg_choice in
        1)
            read -p "Enter the file to embed data into: " embed_file
            if [ ! -f "$embed_file" ]; then
                echo "File '$embed_file' not found!"
                return
            fi
            read -p "Enter the file containing the data to embed: " embed_data_file
            if [ ! -f "$embed_data_file" ]; then
                echo "Data file '$embed_data_file' not found!"
                return
            fi
            read -p "Enter a passphrase for embedding: " embed_passphrase
            echo "Embedding data into $embed_file..."
            steghide embed -cf "$embed_file" -ef "$embed_data_file" -p "$embed_passphrase"
            ;;
        2)
            read -p "Enter the file to extract from: " extract_file
            if [ ! -f "$extract_file" ]; then
                echo "File '$extract_file' not found!"
                return
            fi
            read -p "Enter a passphrase for extraction: " extract_passphrase
            echo "Extracting data from $extract_file..."
            steghide extract -sf "$extract_file" -p "$extract_passphrase"
            ;;
        3)
            read -p "Enter the file to view embedded data info: " info_file
            if [ ! -f "$info_file" ]; then
                echo "File '$info_file' not found!"
                return
            fi
            echo "Viewing embedded data information in $info_file..."
            steghide info "$info_file"
            ;;
        4)
            echo "Exiting steghide operations."
            return
            ;;
        *)
            echo "Invalid choice. Please enter a number between 1 and 4."
            ;;
    esac
}

# Execute steghide operation function
steghide_operation
